---
title: "HTTPでリアルタイム性を保証するために解決すべき技術的課題"
---
# HTTPでリアルタイム性を保証するために解決すべき技術的課題
## 北九州市立大学 大迫 貴(\*1)，山崎 進(\*2)，中武 繁寿(\*2)，藤本 悠介(\*2)，永原 正章(\*3)

\*1 北九州市立大学 国際環境工学部 情報メディア工学科  
\*2 北九州市立大学 国際環境工学部  
\*3 北九州市立大学 環境技術研究所  　

## 1. はじめに

HTTP/TCP/IPによるプロトコルスタックでのネットワーク通信は，ベストエフォート方針で設計されている。ベストエフォートが前提であるため，所定時間内にパケットが確実に到達することを保証できない。一方，機器制御等の組込みシステム用途ではリアルタイム性を要求される。このことから、ネットワーク通信のリアルタイム性を保証できない以上，リモートでネットワーク超しに機器制御を行うことは、現実的には困難であることになる。

本発表の目的は，リモートでネットワーク越しに機器制御を行うケースで，HTTP通信でもある程度リアルタイム性を担保したいと考えたときに，どのような技術的課題が存在するかをサーベイすることである。本発表を叩き台として議論したい。

本発表のこの後の構成は次のとおりである:

## 2. プロトコルスタックの各階層におけるリアルタイム性を阻害する要因

OSI参照モデルとHTTP/TCP/IPを中心とした各プロトコルの対応関係を図1\[1\]に示す。

| レベル   | 層             | プロトコル | 概要 | 
|--------:|:--------------|:---------|:-----|
| 5, 6, 7 | アプリケーション層| TELNET, SSH, HTTP, SMTP, POP, SSL/TLS, FTP, MIME, HTML, SNMP, MIB, SIP, RTPなど | アプリケーション特有の通信処理を行う |
| 4       | トランスポート層 | TDP, UDP, UDP-Lite, SCTP, DCCPなど | 宛先のアプリケーションにデータを確実に届ける |
| 3       | ネットワーク層   | ARP, IP(v4/v6), ICMP, IPsecなど| 宛先までデータを届ける |
| 2       | データリンク層   |  イーサネット, 無線LAN, PPPなど | 物理層で直接接続されたノード間での通信を可能にする |
| 1       | 物理層          | ツイストペアケーブル, 無線, 光ファイバーなど | 信号と物理的尺度を相互変換する |

図1 OSI参照モデルと各プロトコルの対応関係

以下，各階層について，リアルタイム性を損ねる要因を列挙する。ただし，これら以外にもOSやミドルウェアのリアルタイム性の不足・欠如によってもリアルタイム性を損ねてしまう。

### 2.1 物理層

物理層におけるリアルタイム性を損ねる要因は，次の通りだと認識している。

* 信号の減衰・衝突・反射
* 障害物の非透過性
* ノイズ
* 無線妨害


### 2.2 データリンク層

データリンク層におけるリアルタイム性を損ねる要因は，次の通りだと認識している。

* フレームの消失・衝突
* フレーム飽和攻撃による通信妨害

### 2.3 ネットワーク層

ネットワーク層におけるリアルタイム性を損ねる要因は，次の通りだと認識している。

* パケットの消失・衝突
* 伝送経路の不定性による伝送時間の変動
* 通信量の変動による伝送時間の変動
* 通信経路のフォールトトレランス性の欠如
* 誤った経路情報が与えられることによる混乱

### 2.4 トランスポート層

トランスポート層におけるリアルタイム性を損ねる要因は，次の通りだと認識している。

* コネクションの確立・維持にかかるコスト
* セグメントの輻輳によるパケット破棄
* ネットワーク層以下のパケット到着順不定性によって起こるパケット順を揃えるための待ち時間
* DDoS攻撃による妨害

### 2.5 アプリケーション層

アプリケーション層におけるリアルタイム性を損ねる要因は，次の通りだと認識している。

* セッションの確立・維持にかかるコスト
* 同期処理による遅延
* DDoS攻撃による妨害


## まとめと将来課題

## 謝辞

本研究の一部は，JST未来社会創造事業 JPMJMI17B4 の支援を受けた。

研究遂行にあたり多くの助言をいただいた北九州工業高等専門学校の滝本 隆先生，北九州市立大学の古閑 宏幸先生，佐藤 敬先生に感謝する。

## 参考文献

* \[1\] 竹下隆史, 松山公保, 荒井透, 苅田幸雄, "マスタリングTCP/IP 入門編", 第5版, オーム社, 1994, URL: [https://www.ohmsha.co.jp/book/9784274068768/](https://www.ohmsha.co.jp/book/9784274068768/)
* \[2\] D. R. Bhadra, C. A. Joshi, P. R. Soni, N. P. Vyas and R. H. Jhaveri, "Packet loss probability in wireless networks: A survey," 2015 International Conference on Communications and Signal Processing (ICCSP), Melmaruvathur, 2015, pp. 1348-1354, doi: 10.1109/ICCSP.2015.7322729, URL: [http://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=7322729&isnumber=7322423](http://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=7322729&isnumber=7322423)
